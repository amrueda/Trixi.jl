module TestExamples2DEulerMulticomponent

using Test
using Trixi

include("test_trixi.jl")

# pathof(Trixi) returns /path/to/Trixi/src/Trixi.jl, dirname gives the parent directory
EXAMPLES_DIR = joinpath(pathof(Trixi) |> dirname |> dirname, "examples", "tree_2d_dgsem")

@testset "MHD Multi-ion" begin
#! format: noindent

@trixi_testset "elixir_mhdmultiion_ec.jl" begin
    @test_trixi_include(joinpath(EXAMPLES_DIR, "elixir_mhdmultiion_ec.jl"),
                        l2=[
                            1.5557198040058215e-02, 1.5561198523962436e-02,
                            2.4410457949025310e-02, 1.1344868834133841e-02,
                            1.8626149391184826e-02, 1.8719830298030603e-02,
                            6.8963004644178256e-03, 1.0465244373132600e-01,
                            1.8691974336498236e-02, 2.8258773607345654e-02,
                            2.8130992204006531e-02, 1.3859402020143092e-02,
                            8.9892546634939050e-02,
                        ],
                        linf=[
                            8.6698171128154478e-02, 8.9223437132718741e-02,
                            1.0624940128583993e-01, 5.5291033171599724e-02,
                            1.1495494812039142e-01, 1.0381359740462957e-01,
                            4.2436775232064218e-02, 5.2806012024968041e-01,
                            1.0937172169536147e-01, 2.0286418034545392e-01,
                            1.9274686956407905e-01, 9.1713317178251763e-02,
                            5.0302723967694263e-01,
                        ])
end

@trixi_testset "elixir_mhdmultiion_es.jl" begin
    @test_trixi_include(joinpath(EXAMPLES_DIR, "elixir_mhdmultiion_es.jl"),
                        l2=[
                            1.5319585024958093e-02, 1.5322497339615212e-02,
                            2.4107479679804287e-02, 1.1166706297428615e-02,
                            1.8044343530506653e-02, 1.8141881194840042e-02,
                            6.8164634011262104e-03, 1.0315687185431269e-01,
                            1.8776826173845702e-02, 2.8168829726671649e-02,
                            2.8041409057574292e-02, 1.3711442812290676e-02,
                            8.9987200150509539e-02,
                        ],
                        linf=[
                            4.5244015084714539e-02, 4.5229288526366540e-02,
                            9.0657122074956020e-02, 4.9004662466521465e-02,
                            7.5791977835092991e-02, 7.6446433484144830e-02,
                            3.2763360958124675e-02, 3.6867066527392822e-01,
                            1.1151774062868847e-01, 1.5930447057310282e-01,
                            1.5758954335858896e-01, 6.6688837243764412e-02,
                            3.6242864449799805e-01,
                        ])
end
end

end # module
